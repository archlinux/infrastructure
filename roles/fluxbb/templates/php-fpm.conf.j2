[global]
error_log = syslog
daemonize = no

[fluxbb]
listen = /run/php-fpm/fluxbb.socket
listen.owner = fluxbb
listen.group = http
listen.mode = 0660

pm = dynamic
pm.max_children = 250
pm.start_servers = 30
pm.min_spare_servers = 10
pm.max_spare_servers = 40
pm.max_requests = 2000

php_admin_value[open_basedir] = {{ fluxbb_dir }}
php_admin_value[upload_tmp_dir] = {{ fluxbb_dir }}/uploads
php_admin_value[session.save_path] = {{ fluxbb_dir }}/sessions
env[TMPDIR] = {{ fluxbb_dir }}/uploads

php_admin_value[opcache.memory_consumption] = 128
php_admin_value[opcache.interned_strings_buffer] = 8
php_admin_value[opcache.max_accelerated_files] = 200
php_admin_value[opcache.revalidate_freq] = 60
php_admin_value[opcache.fast_shutdown] = 1
php_admin_value[disable_functions] = passthru, exec, proc_open, shell_exec, system, popen
